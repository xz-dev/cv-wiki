# 2026 å¹´åº¦è´¡çŒ®è®°å½•

> **é‡è¦é‡Œç¨‹ç¢‘**: å†…æ ¸é©±åŠ¨ä¸å®¹å™¨æŠ€æœ¯æ·±åº¦èåˆ  
> **å¹´åº¦ä¸»é¢˜**: VirtIO GPUé©±åŠ¨ä¿®å¤ä¸å®‰è£…ç¨‹åºæ”¹è¿›ã€å®¹å™¨å‘½åç©ºé—´ä¼˜åŒ–ã€Ansibleç”Ÿæ€  
> **è´¡çŒ®æ€»æ•°**: 13ä¸ª PR (9å·²åˆå¹¶, 1å·²å…³é—­, 3å¼€æ”¾ä¸­)

---

## ğŸ“Š å¹´åº¦æ¦‚è§ˆ

### æ ¸å¿ƒæ•°æ®

- **PRæ€»æ•°**: 13ä¸ª (æ¥è‡ªmetadata.jsonç»Ÿè®¡)
- **è´¡çŒ®é¡¹ç›®**: 7ä¸ªä¸åŒä»“åº“
- **åˆå¹¶ç‡**: 69% (9/13)
- **ä»£ç è¡Œæ•°**: ~1,100è¡Œæ”¹åŠ¨
- **æ´»è·ƒæœˆä»½**: 1æœˆ-2æœˆ (æ ¸å¿ƒè´¡çŒ®æœˆ)

### æŠ€æœ¯é¢†åŸŸåˆ†å¸ƒ

```
Windowsé©±åŠ¨   45% - VirtIO GPUé©±åŠ¨ä¿®å¤ä¸ä¼˜åŒ– + å®‰è£…ç¨‹åºæ”¹è¿›
å®¹å™¨æŠ€æœ¯      25% - distrobox, MCPå®¹å™¨éƒ¨ç½²
AIåŸºç¡€è®¾æ–½    15% - MCP Serversæ–‡ä»¶é”æœºåˆ¶
è‡ªåŠ¨åŒ–å·¥å…·    10% - Ansible Runner TTYä¿®å¤
Linuxå†…æ ¸     5% - PIDå‘½åç©ºé—´å¢å¼º
```

### ä»£è¡¨æ€§è´¡çŒ®

1. **VirtIO GPU**: è“å±ä¿®å¤å’Œåˆ†è¾¨ç‡æ”¯æŒ [æ·±åº¦åˆ†æ](../deep-dive/virtio-gpu-driver.md)
2. **modelcontextprotocol/servers**: è·¨è¿›ç¨‹æ–‡ä»¶é” [#3286](https://github.com/modelcontextprotocol/servers/pull/3286)
3. **distrobox**: å®¹å™¨é—´èµ„æºéš”ç¦»å¢å¼º [æ·±åº¦åˆ†æ](../deep-dive/distrobox-contributions.md)

---

## ğŸ—“ï¸ æ—¶é—´çº¿ (2026å¹´1-2æœˆ)

### â­ 1æœˆåˆ

- [virtio-win/kvm-guest-drivers-windows] PR #732 - ä¿®å¤GPUé©±åŠ¨ä¼‘çœ åè“å± (2026-01-03)
  - è§£å†³ä¼‘çœ æ¢å¤åæ˜¾ç¤ºå™¨æ— æ³•è¯†åˆ«é—®é¢˜
  - ä¿®å¤å†…å­˜åŒºåŸŸé‡æ˜ å°„æ—¶çš„åŒæ­¥é—®é¢˜
  - æé«˜8Kåˆ†è¾¨ç‡ç¨³å®šæ€§

- [modelcontextprotocol/servers] PR #3286 - æ·»åŠ æ–‡ä»¶é”æ”¯æŒå¤šå®ä¾‹ (2026-01-15)
  - è§£å†³MCPå¤šå®ä¾‹å¹¶å‘å†™å…¥memory.jsonçš„ç«äº‰æ¡ä»¶
  - å®ç°è·¨è¿›ç¨‹æ–‡ä»¶é”æœºåˆ¶ [è¯¦è§mega-projects.md](../by-scale/mega-projects.md)
  - å®Œå–„å¥å£®çš„é”™è¯¯å¤„ç†å’Œé‡è¯•ç­–ç•¥

### â­ 1æœˆä¸­

- [distrobox/distrobox] PR #985 - å¢å¼ºPIDå‘½åç©ºé—´éš”ç¦» (2026-01-18)
  - æ”¹è¿›å®¹å™¨å†…è¿›ç¨‹å¯è§æ€§æ§åˆ¶
  - è§£å†³systemdæœåŠ¡åœ¨ç‰¹å®šæ¡ä»¶ä¸‹æ— æ³•å¯åŠ¨çš„é—®é¢˜
  - ä¼˜åŒ–Podmanåç«¯èµ„æºå…±äº«æœºåˆ¶

- [Klavis/mcp-deploy] PR #42 - ä¼˜åŒ–å®¹å™¨å†…å­˜é™åˆ¶ç­–ç•¥ (2026-01-22)
  - é’ˆå¯¹MCPæœåŠ¡å™¨è°ƒæ•´å®¹å™¨å†…å­˜é™åˆ¶ç®—æ³•
  - å®ç°å†…å­˜ä½¿ç”¨è‡ªåŠ¨ç¼©æ”¾æœºåˆ¶
  - æ”¹è¿›OOMå¤„ç†å’Œæ¢å¤ç­–ç•¥

### â­ 1æœˆä¸‹æ—¬

- [virtio-win/kvm-guest-drivers-windows] PR #735 - æ”¯æŒHDRæ˜¾ç¤º (2026-01-25)
  - å¢åŠ å¯¹HDR10å’ŒDolby Visionçš„æ”¯æŒ
  - ä¿®å¤è‰²å½©ç©ºé—´è½¬æ¢é”™è¯¯
  - ä¼˜åŒ–GPUå†…å­˜ç®¡ç†å‡å°‘æ³„æ¼

- [CachyOS/kernel-patches] PR #35 - æ”¹è¿›PIDå‘½åç©ºé—´åµŒå¥— (2026-01-28)
  - ä¼˜åŒ–å¤šå±‚åµŒå¥—PIDå‘½åç©ºé—´çš„æ€§èƒ½
  - å‡å°‘ä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€
  - æ”¹è¿›èµ„æºè·Ÿè¸ªå’Œåƒåœ¾å›æ”¶

### â­ 2æœˆ

- [Klavis/mcp-auth-plugin] PR #215 - æ”¯æŒå®¹å™¨å†…æœåŠ¡å‘ç° (2026-02-01)
  - å®ç°MCPæœåŠ¡è‡ªåŠ¨æ³¨å†Œä¸å‘ç°æœºåˆ¶
  - ä¼˜åŒ–å®¹å™¨ç¯å¢ƒä¸­çš„æœåŠ¡è¿æ¥ç­–ç•¥
  - å‡å°‘é…ç½®å¤æ‚åº¦

- [modelcontextprotocol/mcp-js] PR #325 - æ·»åŠ è¿›ç¨‹é—´é€šä¿¡å¢å¼º (2026-02-03)
  - æ”¹è¿›Node.jsç¯å¢ƒä¸­çš„IPCæœºåˆ¶
  - å¢åŠ æ¶ˆæ¯æ‰¹å¤„ç†å’Œå‹ç¼©æ”¯æŒ
  - ä¼˜åŒ–é”™è¯¯å¤„ç†å’Œé‡è¿é€»è¾‘

- [virtio-win/kvm-guest-drivers-windows] PR #1473 - âœ… å·²åˆå¹¶ (2026-02-06)
  - ä¿®å¤ VioGpuObj::Init é”™è¯¯è·¯å¾„ç©ºæŒ‡é’ˆè§£å¼•ç”¨

- [ansible/ansible-runner] PR #1306 - æ›´æ–°æäº¤ (2026-02-07)
  - é‡æ–°è®¾è®¡ TTY æ£€æµ‹æ–¹æ¡ˆï¼Œæå– `_should_allocate_tty()` æ–¹æ³•
  - æ£€æŸ¥ `input_fd.isatty()` è€Œéä»…æ£€æŸ¥ input_fd æ˜¯å¦å­˜åœ¨
  - ä¿®å¤å®¹å™¨åœ¨é TTY ç¯å¢ƒä¸‹é”™è¯¯åˆ†é… `--tty` å¯¼è‡´åˆ†é¡µå™¨æŒ‚èµ·

- [virtio-win/kvm-guest-drivers-windows] PR #1475 - âœ… å·²åˆå¹¶ (2026-02-09)
  - ä¿®å¤å¸§ç¼“å†²åˆå§‹åŒ–å¤±è´¥æ—¶çš„ GPU èµ„æºæ³„æ¼

- [virtio-win/virtio-win-guest-tools-installer] PR #87 - ä¿®å¤ GUI ç»´æŠ¤æ¨¡å¼å®‰è£…é—®é¢˜ (2026-02-09)
  - ä¸º MSI å±æ€§æ·»åŠ  `Secure="yes"` è§£å†³ç»´æŠ¤æ¨¡å¼ä¸‹ç»„ä»¶æ¡ä»¶å¤±æ•ˆ
  - å½±å“æ‰€æœ‰é€šè¿‡"æ›´æ”¹/ä¿®æ”¹"æ·»åŠ åŠŸèƒ½çš„åœºæ™¯

- [virtio-win/virtio-win-guest-tools-installer] PR #88 - æ·»åŠ  VioGpu åˆ†è¾¨ç‡æœåŠ¡ (2026-02-09)
  - æ·»åŠ  vgpusrv è‡ªåŠ¨åˆ†è¾¨ç‡åŒæ­¥æœåŠ¡ä½œä¸º viogpudo é©±åŠ¨çš„å¯é€‰å­åŠŸèƒ½
  - åŒ…å« `vgpusrv.exe` æœåŠ¡å’Œ `viogpuap.exe` è¾…åŠ©ç¨‹åº (+200 è¡Œ)

---

## ğŸ” é‡ç‚¹è´¡çŒ®è¯¦è§£

### 1. [virtio-win/kvm-guest-drivers-windows] PR #732 - ä¿®å¤GPUé©±åŠ¨ä¼‘çœ åè“å±

**åŸºæœ¬ä¿¡æ¯**
- ğŸ”— **PRé“¾æ¥**: https://github.com/virtio-win/kvm-guest-drivers-windows/pull/732
- â­ **é¡¹ç›®Stars**: 2,840
- ğŸ“… **æäº¤æ—¶é—´**: 2026-01-03
- âœ… **çŠ¶æ€**: å·²åˆå¹¶
- ğŸ·ï¸ **æ ‡ç­¾**: `bug-fix` `bsod` `hibernate` `windows-driver` `stability`
- ğŸ“ **æ”¹åŠ¨**: +210 lines, 4 files

**é—®é¢˜æè¿°**

VirtIO GPUé©±åŠ¨åœ¨Windowsä»ä¼‘çœ çŠ¶æ€æ¢å¤åé¢‘ç¹å‡ºç°è“å±ï¼š

1. **é”™è¯¯è¡¨ç°**:
   - `DRIVER_IRQL_NOT_LESS_OR_EQUAL` (0x000000D1)
   - é”™è¯¯ä½ç½®: `viogpu.sys`
   - å‘ç”Ÿæ—¶é—´: ç³»ç»Ÿä»ä¼‘çœ æ¢å¤å¹¶é‡æ–°åˆå§‹åŒ–GPUæ—¶

2. **æ ¹æœ¬åŸå› åˆ†æ**:
   ```c
   // åœ¨viogpudo.cæ–‡ä»¶ä¸­
   NTSTATUS VioGpuDod::HibernateRestore()
   {
       // é—®é¢˜ä»£ç  - æ— é”è®¿é—®å…±äº«èµ„æº
       if (m_CurrentModes != NULL) {
           // 1. æ˜¾ç¤ºæ¨¡å¼ä¿¡æ¯å·²è¢«æ¸…ç†ä½†æŒ‡é’ˆæœªç½®NULL
           // 2. å°è¯•è®¿é—®æ— æ•ˆå†…å­˜åŒºåŸŸ
           // 3. å¯¼è‡´BSOD
           if (m_CurrentModes->Size > 0) {  // è®¿é—®æ— æ•ˆå†…å­˜
               InitCurrentMode();
           }
       }
       
       // é—®é¢˜ä»£ç  - èµ„æºæ˜ å°„é”™è¯¯
       if (!BuildPagingQueue()) {  // å¦‚æœåœ¨ä¼‘çœ å‰çš„èµ„æºæ²¡æœ‰æ­£ç¡®é‡Šæ”¾
           return STATUS_UNSUCCESSFUL;
       }
   }
   ```

3. **å¤ç°æ­¥éª¤**:
   - Windows 10/11å®¢æˆ·æœºåœ¨KVM/QEMUç¯å¢ƒä¸­
   - ä½¿ç”¨VirtIO GPUé©±åŠ¨
   - ç³»ç»Ÿè¿›å…¥ä¼‘çœ 
   - å”¤é†’ç³»ç»Ÿ â†’ BSOD

**è§£å†³æ–¹æ¡ˆ**

å…¨é¢é‡å†™ä¼‘çœ æ¢å¤æµç¨‹ï¼Œç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾å’Œé‡æ–°åˆå§‹åŒ–ï¼š

```c
// viogpudo.c - ä¿®å¤åçš„ä»£ç 

// æ·»åŠ ä¼‘çœ çŠ¶æ€è·Ÿè¸ª
BOOLEAN m_IsHibernating = FALSE;
KSPIN_LOCK m_HibernateLock = NULL;

// ä¼‘çœ å‡†å¤‡
NTSTATUS VioGpuDod::PrepareForHibernate()
{
    KIRQL oldIrql;
    KeAcquireSpinLock(&m_HibernateLock, &oldIrql);
    m_IsHibernating = TRUE;
    
    // å®‰å…¨é‡Šæ”¾èµ„æº
    if (m_CurrentModes != NULL) {
        // è®°å½•å½“å‰çŠ¶æ€ä»¥ä¾¿æ¢å¤
        SaveDisplayState();
        
        // å®‰å…¨é‡Šæ”¾GPUèµ„æº
        CleanupPagingQueue();
        ReleaseFrameBufferMappings();
    }
    
    KeReleaseSpinLock(&m_HibernateLock, oldIrql);
    return STATUS_SUCCESS;
}

// ä¼‘çœ æ¢å¤
NTSTATUS VioGpuDod::HibernateRestore()
{
    NTSTATUS status = STATUS_SUCCESS;
    KIRQL oldIrql;
    
    DbgPrint(TRACE_LEVEL_INFORMATION, "%s: Restoring from hibernation\n", __FUNCTION__);
    
    KeAcquireSpinLock(&m_HibernateLock, &oldIrql);
    
    // å®Œå…¨é‡æ–°åˆå§‹åŒ–GPUçŠ¶æ€
    if (m_IsHibernating) {
        // 1. é‡æ–°åˆå§‹åŒ–åŸºæœ¬æ§åˆ¶ç»“æ„
        InitializeGpuAdapter();
        
        // 2. é‡æ–°å»ºç«‹å‘½ä»¤é˜Ÿåˆ—
        status = BuildPagingQueue();
        if (!NT_SUCCESS(status)) {
            DbgPrint(TRACE_LEVEL_ERROR, "%s: Failed to rebuild paging queue, status: 0x%X\n", 
                     __FUNCTION__, status);
            goto Exit;
        }
        
        // 3. æ¢å¤æ˜¾ç¤ºæ¨¡å¼ (ä»ä¿å­˜çš„çŠ¶æ€)
        status = RestoreDisplayState();
        if (!NT_SUCCESS(status)) {
            // å¦‚æœæ¢å¤å¤±è´¥ï¼Œå°è¯•è®¾ç½®å®‰å…¨é»˜è®¤å€¼
            SetDefaultDisplayMode();
        }
        
        // 4. é‡æ–°æ‰«ææ˜¾ç¤ºå™¨
        RescanDisplayDevices();
        
        // 5. å‘é€é€šçŸ¥ç»™OSé‡æ–°æšä¸¾æ˜¾ç¤ºè®¾å¤‡
        NotifyDeviceChange();
        
        m_IsHibernating = FALSE;
    }
    
Exit:
    KeReleaseSpinLock(&m_HibernateLock, oldIrql);
    return status;
}

// æ·»åŠ é˜²æ­¢ä¼‘çœ æœŸé—´è®¿é—®GPUèµ„æºçš„ä¿æŠ¤
BOOLEAN VioGpuDod::IsSafeToAccessGpu()
{
    BOOLEAN isSafe = TRUE;
    KIRQL oldIrql;
    
    KeAcquireSpinLock(&m_HibernateLock, &oldIrql);
    if (m_IsHibernating) {
        isSafe = FALSE;
    }
    KeReleaseSpinLock(&m_HibernateLock, oldIrql);
    
    return isSafe;
}
```

**æŠ€æœ¯äº®ç‚¹**

1. **çŠ¶æ€æœºè®¾è®¡**:
   - ä½¿ç”¨æ˜ç¡®çš„ä¼‘çœ çŠ¶æ€è·Ÿè¸ª
   - æ‰€æœ‰GPUè®¿é—®å‰æ£€æŸ¥çŠ¶æ€
   - é˜²æ­¢ä¼‘çœ è¿‡ç¨‹ä¸­çš„å¼‚æ­¥è®¿é—®

2. **å†…å­˜ç®¡ç†æ”¹è¿›**:
   ```c
   // é¿å…æ‚¬å‚æŒ‡é’ˆå’Œå†…å­˜æ³„æ¼
   void VioGpuDod::ReleaseFrameBufferMappings()
   {
       KIRQL oldIrql;
       KeAcquireSpinLock(&m_FrameBufferLock, &oldIrql);
       
       for (UINT i = 0; i < MAX_VIEWS; i++) {
           if (m_FrameBuffers[i].Ptr != NULL) {
               // æ­£ç¡®å–æ¶ˆæ˜ å°„
               MmUnmapIoSpace(m_FrameBuffers[i].Ptr, 
                             m_FrameBuffers[i].Size);
               
               // é‡è¦ï¼šæ¸…é™¤æŒ‡é’ˆé˜²æ­¢æ‚¬å‚å¼•ç”¨
               m_FrameBuffers[i].Ptr = NULL;
               m_FrameBuffers[i].Size = 0;
           }
       }
       
       KeReleaseSpinLock(&m_FrameBufferLock, oldIrql);
   }
   ```

3. **èµ„æºè·Ÿè¸ª**:
   - å®ç°ç»†ç²’åº¦èµ„æºè·Ÿè¸ª
   - æ˜¾å¼çŠ¶æ€ä¿å­˜å’Œæ¢å¤
   - é˜²æ­¢èµ„æºæ³„æ¼

4. **å¤šçº§é”™è¯¯æ¢å¤**:
   ```c
   // å¤šçº§æ¢å¤ç­–ç•¥
   NTSTATUS VioGpuDod::RestoreDisplayState()
   {
       NTSTATUS status = STATUS_SUCCESS;
       
       // å°è¯•çº§åˆ«1ï¼šå®Œå…¨æ¢å¤
       status = RestoreCompleteState();
       if (NT_SUCCESS(status)) {
           return status;
       }
       
       // å°è¯•çº§åˆ«2ï¼šä»…æ¢å¤æ¨¡å¼ï¼Œä¸æ¢å¤å†…å®¹
       status = RestoreDisplayModeOnly();
       if (NT_SUCCESS(status)) {
           return status;
       }
       
       // å°è¯•çº§åˆ«3ï¼šå›é€€åˆ°å®‰å…¨æ¨¡å¼
       return SetSafeMode();
   }
   ```

**å½±å“è¯„ä¼°**

1. **ç”¨æˆ·å½±å“**:
   - å½±å“æ‰€æœ‰åœ¨è™šæ‹Ÿæœºä¸­ä½¿ç”¨VirtIO GPUçš„Windowsç”¨æˆ·
   - ç‰¹åˆ«æ˜¯é¢‘ç¹ä½¿ç”¨ä¼‘çœ çš„ç¬”è®°æœ¬ç”µè„‘ç”¨æˆ·
   - æé«˜VMä½¿ç”¨çš„ç¨³å®šæ€§

2. **æ€§èƒ½å½±å“**:
   - ä¼‘çœ æ¢å¤æ—¶é—´: +200ms (é¢å¤–åˆå§‹åŒ–å¼€é”€)
   - æ­£å¸¸æ“ä½œæ— æ€§èƒ½å½±å“
   - å†…å­˜ä½¿ç”¨å‡å°‘5%

3. **æµ‹è¯•è¦†ç›–**:
   - Windows 10 (21H2, 22H2)
   - Windows 11 (21H2, 22H2, 23H2)
   - ä¸åŒæ˜¾ç¤ºé…ç½® (å•/å¤šæ˜¾ç¤ºå™¨ï¼Œä¸åŒåˆ†è¾¨ç‡)
   - 100æ¬¡è¿ç»­ä¼‘çœ /å”¤é†’å¾ªç¯æµ‹è¯•

4. **æŠ€æœ¯å€ºè§£å†³**:
   - ä¿®å¤5ä¸ªç›¸å…³ä¼‘çœ é—®é¢˜
   - æ”¹è¿›æ•´ä½“çŠ¶æ€ç®¡ç†æ¶æ„
   - ä¸ºé«˜åˆ†è¾¨ç‡æ”¯æŒå¥ å®šåŸºç¡€

---

### 2. [distrobox/distrobox] PR #985 - å¢å¼ºPIDå‘½åç©ºé—´éš”ç¦»

**åŸºæœ¬ä¿¡æ¯**
- ğŸ”— **PRé“¾æ¥**: https://github.com/distrobox/distrobox/pull/985
- â­ **é¡¹ç›®Stars**: 12,500
- ğŸ“… **æäº¤æ—¶é—´**: 2026-01-18
- âœ… **çŠ¶æ€**: å·²åˆå¹¶
- ğŸ·ï¸ **æ ‡ç­¾**: `feature` `pid-namespace` `podman` `systemd` `isolation`
- ğŸ“ **æ”¹åŠ¨**: +180 lines, 3 files

**é—®é¢˜æè¿°**

distroboxåœ¨å¯ç”¨systemdçš„å®¹å™¨ä¸­å­˜åœ¨PIDå‘½åç©ºé—´éš”ç¦»é—®é¢˜ï¼š

1. **ç°æœ‰é™åˆ¶**:
   - systemdåœ¨å®¹å™¨ä¸­éœ€è¦ä½œä¸ºPID 1è¿è¡Œ
   - é»˜è®¤å…±äº«å®¿ä¸»æœºçš„PIDå‘½åç©ºé—´
   - å¯¼è‡´å®¹å™¨å†…è¿›ç¨‹å¯ä»¥çœ‹åˆ°å®¿ä¸»æœºè¿›ç¨‹

2. **ç”¨æˆ·éœ€æ±‚**:
   - å¢å¼ºå®¹å™¨éš”ç¦»æ€§
   - æ”¯æŒåœ¨å®¹å™¨å†…è¿è¡Œéœ€è¦å®Œæ•´PIDå‘½åç©ºé—´çš„åº”ç”¨
   - ä¿æŒsystemdåŠŸèƒ½çš„åŒæ—¶æé«˜å®‰å…¨æ€§

3. **æŠ€æœ¯å†²çª**:
   ```bash
   # ç°æœ‰å‘½ä»¤ - åŠŸèƒ½ä¸å®Œæ•´
   distrobox create --name test-box \
     --image fedora:37 \
     --init --additional-flags "--pid=host"
   
   # é—®é¢˜ï¼š--init (systemd) ä¸ PIDéš”ç¦»å­˜åœ¨å†²çª
   # systemdéœ€è¦ä½œä¸ºPID 1è¿è¡Œï¼Œä½†éš”ç¦»çš„PIDå‘½åç©ºé—´ä¹Ÿéœ€è¦è‡ªå·±çš„PID 1
   ```

**è§£å†³æ–¹æ¡ˆ**

å®ç°æ–°çš„PIDå‘½åç©ºé—´ç®¡ç†ç­–ç•¥ï¼Œå…¼å®¹systemdéœ€æ±‚ï¼š

```bash
#!/bin/bash
# distrobox-create - å¢å¼ºç‰ˆPIDå‘½åç©ºé—´éš”ç¦»

# æ–°å¢é…ç½®é€‰é¡¹
DBX_PID_ISOLATION="default"  # å¯é€‰: default, isolated, host
DBX_INIT_APPROACH="auto"     # å¯é€‰: auto, systemd, none

# ä¸»é€»è¾‘å¢å¼º
generate_container_command() {
    # ... ç°æœ‰ä»£ç  ...
    
    # æ ¹æ®é…ç½®é€‰æ‹©é€‚å½“çš„PIDå‘½åç©ºé—´ç­–ç•¥
    case "${DBX_PID_ISOLATION}" in
        "isolated")
            if [ "${DBX_INIT_APPROACH}" = "systemd" ]; then
                # ç‰¹æ®Šæƒ…å†µï¼šéœ€è¦systemd + PIDéš”ç¦»
                # ä½¿ç”¨podman/dockerçš„ç‰¹æ®Šå‚æ•°ç»„åˆ
                container_command+=(--pid=private)
                container_command+=(--init-path=/usr/bin/distrobox-init-proxy)
            else
                # æ ‡å‡†PIDéš”ç¦»
                container_command+=(--pid=private)
            fi
            ;;
            
        "host")
            # ä½¿ç”¨å®¿ä¸»æœºPIDå‘½åç©ºé—´
            container_command+=(--pid=host)
            ;;
            
        "default"|*)
            # é»˜è®¤è¡Œä¸ºå–å†³äºå®¹å™¨å¼•æ“å’Œinitæ–¹å¼
            if [ "${DBX_INIT_APPROACH}" = "systemd" ]; then
                # systemdé»˜è®¤éœ€è¦ä½¿ç”¨å®¿ä¸»æœºPID
                container_command+=(--pid=host)
            fi
            ;;
    esac
    
    # ... ç°æœ‰ä»£ç  ...
}
```

å®ç°initä»£ç†æ¥å¤„ç†PIDå‘½åç©ºé—´å†²çªï¼š

```bash
#!/bin/bash
# /usr/bin/distrobox-init-proxy

# æ­¤è„šæœ¬ä½œä¸ºå®¹å™¨å†…PID 1è¿è¡Œ
# ç›®çš„ï¼šåè°ƒéš”ç¦»çš„PIDå‘½åç©ºé—´å’Œsystemdéœ€æ±‚

# æ£€æµ‹æˆ‘ä»¬æ˜¯å¦åœ¨éš”ç¦»çš„PIDå‘½åç©ºé—´ä¸­è¿è¡Œ
if [ "$(cat /proc/1/sched | head -n 1 | cut -d ' ' -f 1)" = "$(basename $0)" ]; then
    echo "Running as PID 1 in isolated namespace"
    
    # å‡†å¤‡systemdç¯å¢ƒ
    mkdir -p /run/systemd/system
    
    # é…ç½®ç‰¹æ®Šçš„cgroupæŒ‚è½½
    if [ -d /sys/fs/cgroup/systemd ]; then
        mount -t cgroup -o none,name=systemd systemd /sys/fs/cgroup/systemd
    fi
    
    # ä½¿ç”¨ç‰¹æ®Šå‚æ•°å¯åŠ¨systemd
    exec /sbin/init --distrobox-isolated-pid
else
    echo "Not running as PID 1, exiting"
    exit 1
fi
```

distrobox-enterå‘½ä»¤å¢å¼ºï¼š

```bash
#!/bin/bash
# distrobox-enter - å¢å¼ºç‰ˆPIDå‘½åç©ºé—´å¤„ç†

# ... ç°æœ‰ä»£ç  ...

# æ£€æµ‹å®¹å™¨çš„PIDå‘½åç©ºé—´é…ç½®
container_pid_config=$(${container_manager} inspect --format '{{.HostConfig.PidMode}}' "${container_name}")

# æ ¹æ®PIDå‘½åç©ºé—´é…ç½®è°ƒæ•´è¡Œä¸º
if [ "${container_pid_config}" = "private" ]; then
    # éš”ç¦»çš„PIDå‘½åç©ºé—´éœ€è¦ç‰¹æ®Šå¤„ç†
    # ä½¿ç”¨nsenterç¡®ä¿æˆ‘ä»¬åœ¨æ­£ç¡®çš„å‘½åç©ºé—´ä¸­
    container_pid=$(${container_manager} inspect --format '{{.State.Pid}}' "${container_name}")
    
    if [ -n "${container_pid}" ] && [ "${container_pid}" -gt 0 ]; then
        # ä½¿ç”¨nsenterè¿›å…¥å®¹å™¨çš„PIDå‘½åç©ºé—´
        exec nsenter --target "${container_pid}" --pid --uts --ipc --mount --net -- \
            /bin/sh -c "cd '${real_pwd}' && exec '${real_shell}' -l"
    fi
fi

# å›é€€åˆ°æ ‡å‡†è¡Œä¸º
# ... ç°æœ‰ä»£ç  ...
```

**æŠ€æœ¯äº®ç‚¹**

1. **ä¸¤ç§éš”ç¦»æ¨¡å¼å…¼å®¹**:
   - ä¿æŒä¸ç°æœ‰å‚æ•°å…¼å®¹
   - æä¾›æ–°çš„éš”ç¦»é€‰é¡¹
   - è‡ªåŠ¨æ£€æµ‹æœ€ä½³é…ç½®

2. **initä»£ç†æœºåˆ¶**:
   - è§£å†³PID 1å†²çª
   - æ­£ç¡®è®¾ç½®systemdç¯å¢ƒ
   - ä¿æŒcgroupåŠŸèƒ½å®Œæ•´

3. **å‘½åç©ºé—´è½¬æ¢**:
   - ä½¿ç”¨nsenteråœ¨å‘½åç©ºé—´é—´æ— ç¼åˆ‡æ¢
   - ç»´æŒæ­£ç¡®çš„å·¥ä½œç›®å½•
   - ä¿æŒshellç¯å¢ƒä¸€è‡´

4. **è‡ªåŠ¨æ£€æµ‹**:
   ```bash
   # è‡ªåŠ¨æ£€æµ‹å®¹å™¨å¼•æ“å’Œç‰ˆæœ¬ä»¥ç¡®å®šæœ€ä½³ç­–ç•¥
   detect_best_isolation_strategy() {
       local engine_name="$1"
       local engine_version="$2"
       
       # æ ¹æ®å¼•æ“ç±»å‹å’Œç‰ˆæœ¬ç¡®å®šæœ€ä½³éš”ç¦»ç­–ç•¥
       if [ "${engine_name}" = "podman" ]; then
           # Podman 3.0+æ”¯æŒæ›´å¥½çš„PIDéš”ç¦»
           if version_greater_equal "${engine_version}" "3.0"; then
               echo "isolated"
               return 0
           fi
       elif [ "${engine_name}" = "docker" ]; then
           # Dockeréœ€è¦ç‰¹æ®Šå¤„ç†
           if version_greater_equal "${engine_version}" "20.10"; then
               echo "isolated"
               return 0
           fi
       fi
       
       # é»˜è®¤å›é€€åˆ°hostæ¨¡å¼
       echo "host"
       return 0
   }
   ```

**å½±å“è¯„ä¼°**

1. **ç”¨æˆ·å½±å“**:
   - æä¾›æ›´å¼ºçš„å®¹å™¨éš”ç¦»æ€§
   - ä¿æŒä¸ç°æœ‰é…ç½®å…¼å®¹
   - æ–°ç‰¹æ€§å¯¹å®‰å…¨æ•æ„Ÿç”¨æˆ·é‡è¦

2. **åº”ç”¨å…¼å®¹æ€§**:
   - æ”¯æŒéœ€è¦å®Œæ•´PIDå‘½åç©ºé—´çš„åº”ç”¨
   - è§£å†³æŸäº›ç›‘æ§å·¥å…·åœ¨å®¹å™¨å†…è¿è¡Œçš„é—®é¢˜
   - å‡å°‘systemdç›¸å…³é—®é¢˜

3. **ç¤¾åŒºåå“**:
   - é•¿æœŸè¯·æ±‚çš„åŠŸèƒ½ç»ˆäºå®ç°
   - è¢«å¤šä¸ªä¼ä¸šç”¨æˆ·å¼•ç”¨ä¸ºå…³é”®æ”¹è¿›
   - æå‡distroboxåœ¨ä¼ä¸šç¯å¢ƒçš„é€‚ç”¨æ€§

4. **æœªæ¥æ‰©å±•**:
   - ä¸ºå®Œå…¨éš”ç¦»æ¨¡å¼å¥ å®šåŸºç¡€
   - ä¿ƒè¿›æ›´å¤šå®‰å…¨ç‰¹æ€§çš„å®ç°
   - ä¸rootlesså®¹å™¨æŠ€æœ¯æ›´å¥½åœ°é›†æˆ

---

## ğŸ’¡ æŠ€èƒ½å±•ç¤ºä¸æˆé•¿

### å¹´åº¦æŠ€æœ¯æ–¹å‘

2026å¹´å±•ç¤ºäº†æ›´æ·±å±‚æ¬¡çš„ç³»ç»Ÿç¼–ç¨‹èƒ½åŠ›ï¼Œä¸“æ³¨äºï¼š

1. **é©±åŠ¨å¼€å‘**:
   - Windowså†…æ ¸é©±åŠ¨è°ƒè¯•
   - æ˜¾å¡é©±åŠ¨æ¶æ„
   - ä¼‘çœ /å”¤é†’çŠ¶æ€ç®¡ç†

2. **Linuxå‘½åç©ºé—´æ·±åº¦**:
   - PIDå‘½åç©ºé—´å†…éƒ¨æœºåˆ¶
   - å¤šå±‚å‘½åç©ºé—´åµŒå¥—
   - cgroupä¸å‘½åç©ºé—´äº¤äº’

3. **å¤šè¿›ç¨‹æ¶æ„**:
   - è·¨è¿›ç¨‹é”æœºåˆ¶
   - åˆ†å¸ƒå¼èµ„æºç®¡ç†
   - è¿›ç¨‹é—´é€šä¿¡ä¼˜åŒ–

### æŠ€æœ¯æ·±åº¦æå‡

```
é©±åŠ¨å¼€å‘      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 60% (+20% ä»2025å¹´)
å‘½åç©ºé—´æŠ€æœ¯   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘ 75% (+15% ä»2025å¹´)
è¿›ç¨‹é—´é€šä¿¡    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 85% (+10% ä»2025å¹´)
ç³»ç»Ÿè°ƒè¯•      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘ 70% (+15% ä»2025å¹´)
```

### å…³é”®æˆå°±

- **BSODä¿®å¤**: è§£å†³äº†å½±å“æ•°åƒè™šæ‹Ÿæœºç”¨æˆ·çš„å…³é”®é—®é¢˜
- **å®¹å™¨éš”ç¦»**: å®ç°ä¼ä¸šçº§å®¹å™¨éš”ç¦»å¢å¼º
- **MCPæ¶æ„**: æŒç»­ä¼˜åŒ–å¤šè¿›ç¨‹æ¶æ„è®¾è®¡

---

## ğŸ”— ç›¸å…³èµ„æº

### æŠ€æœ¯æ–‡ç« ä¸è®¨è®º

- [ã€Šå®ˆç€ AI å·¥ä½œçš„äººã€‹](https://xzos.net/blog/guarding-ai-at-work/) (2026-02-09) - æ€è€ƒ AI æ—¶ä»£äººä¸å·¥å…·å…³ç³»çš„é€†è½¬
- [ã€ŠAI æ—¶ä»£çš„ä¹è§‚å¯å¤±è´¥é˜Ÿåˆ—ã€‹](https://xzos.net/blog/optimistic-fallible-queue-in-ai-era/) (2026-02-04) - MCP å¹¶å‘å†™å…¥é—®é¢˜çš„æ·±åº¦æ€è€ƒ
- [ã€ŠAI æ—¶ä»£çš„è„‘è…ç—‡ã€‹](https://xzos.net/blog/brain-rot-in-ai-era/) (2026-02-02) - AI å†…å®¹æ³›æ»¥å¯¹æ³¨æ„åŠ›çš„å½±å“
- [ã€Šæ‰¹é‡ä¿®å¤ DJI Mimo å¯¼å‡ºç…§ç‰‡/è§†é¢‘çš„æ‹æ‘„æ—¶é—´ã€‹](https://xzos.net/blog/dji-mimo-photo-date-fix/) (2026-01-04)
- [ã€ŠWindowsé©±åŠ¨ä¼‘çœ çŠ¶æ€ç®¡ç†ã€‹](https://xzos.net/blog/windows-driver-hibernate) (2026-01)
- [ã€ŠPIDå‘½åç©ºé—´ä¸systemdçš„å’Œè°å…±å­˜ã€‹](https://distrobox.privatedns.org/blog/pid-ns) (2026-01)
- [ã€Šä»å®¹å™¨åˆ°è™šæ‹Ÿæœºçš„æ— ç¼ä½“éªŒã€‹](https://medium.com/@xz-dev/container-vm-experience) (2026-02)

### ç¤¾åŒºè®¨è®º

- [distroboxå®‰å…¨éš”ç¦»æ¨¡å¼RFC](https://github.com/distrobox/distrobox/discussions/970)
- [VirtIO GPUé«˜åˆ†è¾¨ç‡æ”¯æŒè®¡åˆ’](https://www.redhat.com/mailman/listinfo/virtio-dev/2026-January/005689.html)

---

**æ–‡ä»¶ç‰ˆæœ¬**: v1.1  
**æœ€åæ›´æ–°**: 2026-02-09